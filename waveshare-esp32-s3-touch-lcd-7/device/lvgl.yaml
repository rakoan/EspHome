lvgl:
  top_layer:
    widgets:
    
      # Temperature
      - label:
          text: "-° / -°"
          id: temperatures
          styles: roboto15_style
          align: top_left
          x: 8
          y: 4
          text_color: 0xFFFFFF

      # Clock
      - label:
          text: "--:--"
          id: display_time
          styles: roboto15_style
          align: top_mid
          x: 0
          y: 4
          text_align: center
          text_color: 0xFFFFFF
      # wifi status
      - label:
          text: "\U000F05AA"
          id: display_wifi
          styles: roboto15_style
          align: top_right
          x: 8
          y: 4
          text_color: 0xFFFFFF
          
  pages:
    - id: main_page
      layout: 
        type: flex
        flex_flow: column_wrap
      width: 100%
      bg_color: Black
      bg_opa: cover
      pad_top: 30
      pad_bottom: 5
      pad_left: 5
      pad_right: 5
      
      widgets:
      
        #1 Battery SoC
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: battery_soc_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: battery_soc_icon                
                  text: $battery
              - label:
                  align: bottom_left
                  id: battery_soc_label
                  text: "SoC"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  text_align: CENTER
                  id: battery_soc_value                
                  text: "99.9"
              - label:
                  align: top_right
                  id: battery_soc_unit                
                  text: "%"                  
            #on_press:
              #- homeassistant.service:
               #   service: scene.turn_on
                #  data:
                 #   entity_id: scene.office_features

        #2 Battery Total Voltage
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: battery_voltage_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: battery_voltage_icon                
                  text: $battery
              - label:
                  align: bottom_left
                  id: battery_voltage_label
                  text: "Voltage"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  text_align: CENTER
                  id: battery_voltage_value                
                  text: "53.1"
              - label:
                  align: top_right
                  id: battery_voltage_unit                
                  text: "V"    
                    
        #3 Battery Power
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: battery_power_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: battery_power_icon                
                  text: $battery
              - label:
                  align: bottom_left
                  id: battery_power_label
                  text: "Power"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  text_align: CENTER
                  id: battery_power_value                
                  text: "-1.55"
              - label:
                  align: top_right
                  id: battery_power_unit                
                  text: "kW"    

        #4 Battery Duration
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: battery_duration_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: battery_duration_icon                
                  text: $battery
              - label:
                  align: bottom_left
                  id: battery_duration_label
                  text: "Duration"
              - label:
                  text_font: $text_value2_font
                  align: right_mid
                  id: battery_duration_value                
                  text: "360mn"

        #5 BMS Cells Voltage
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: bms_cell_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: battery_cell_icon                
                  text: $battery_cells
              - label:
                  align: bottom_left
                  id: battery_cell_label
                  text: "BMS"
              - label:
                  text_font: $text_value2_font
                  align: top_mid
                  id: battery_cell_max_value
                  text: "3.35"
              - label:
                  text_font: $text_value2_font
                  align: bottom_mid
                  id: battery_cell_min_value 
                  text: "3.31"
              - label:
                  align: top_right
                  id: battery_cell_volt_unit                
                  text: "V"   

        #6 BMS Cell Delta
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: bms_cell_delta_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: bms_cell_delta_icon                
                  text: $battery_cells
              - label:
                  align: bottom_left
                  id: bms_cell_delta_label
                  text: "DeltaV"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: bms_cell_delta_value 
                  text: "15"
              - label:
                  align: top_right
                  id: bms_cell_delta_unit                
                  text: "mV" 

        #7 BMS cell Temperature
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: bms_temp_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: bms_temp_icon                
                  text: $battery_cells
              - label:
                  align: bottom_left
                  id: bms_temp_label
                  text: "T°"                  
              - label:
                  text_font: $text_value2_font
                  align: right_mid
                  id: bms_temp_value
                  text: "26.2 | 25.9"
              - label:
                  align: top_right
                  id: bms_temp_unit                
                  text: "°C" 
                    
        #8 BMS Mosfet Temperature
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: bms_mosfet_temp_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: bms_mosfet_temp_icon                
                  text: $battery_cells
              - label:
                  align: bottom_left
                  id: bms_mosfet_temp_label
                  text: "Mosfet"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: bms_mosfet_temp_value 
                  text: "30.5"
              - label:
                  align: top_right
                  id: bms_mosfet_temp_unit                
                  text: "°C" 

        #9 Inverter Voltage/Freq/Amp
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: Inverter_volt_freq_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: Inverter_volt_freq_icon                
                  text: $inverter
              - label:
                  align: bottom_left
                  id: Inverter_amp_label
                  text: "10 A"
              - label:
                  align: top_right
                  id: inverter_volt_label 
                  text: "230 V"                  
              - label:
                  align: bottom_right
                  id: inverter_freq_label 
                  text: "49.9 Hz"
                  
        #10 Inverter Power
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: inverter_power_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: inverter_power_icon                
                  text: $inverter
              - label:
                  align: bottom_left
                  id: inverter_powers_label
                  text: "Power"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: inverter_power_value 
                  text: "4.5"
              - label:
                  align: top_right
                  id: inverter_power_unit                
                  text: "kW" 

        #11 Inverter Temperature AC-DC
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: inverter_temp_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: inverter_temp_icon                
                  text: $inverter
              - label:
                  align: bottom_left
                  id: inverter_temp_label
                  text: "T°"
              - label:
                  text_font: $text_value2_font
                  align: top_mid
                  id: inverter_ac_temp_value
                  text: "28.4"
              - label:
                  text_font: $text_value2_font
                  align: bottom_mid
                  id: inverter_dc_temp_value 
                  text: "27.5"
              - label:
                  align: top_right
                  id: inverter_temp_unit                
                  text: "°C" 

        #12 Inverter Energy Output
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: inverter_energy_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: inverter_energy_icon                
                  text: $inverter
              - label:
                  align: bottom_left
                  id: inverter_energy_label
                  text: "Energy"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: inverter_energy_value 
                  text: "10.5"
              - label:
                  align: top_right
                  id: inverter_energy_unit                
                  text: "kWh" 
                    
        #13 MPPT status
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: mppt_status_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: mppt_status_icon                
                  text: $mppt
              - label:
                  align: bottom_left
                  id: mppt_status_label
                  text: "MPPT"
              - label:
                  #text_font: $text_value2_font
                  align: right_mid
                  id: mppt_status_value 
                  text: "Stand By"

        #14 MPPT Power
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: mppt_power_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: mppt_power_icon                
                  text: $mppt
              - label:
                  align: bottom_left
                  id: mppt_power_label
                  text: "Power"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: mppt_power_value 
                  text: "5.0"
              - label:
                  align: top_right
                  id: mppt_power_unit                
                  text: "kW" 

        #15 MPPT Temperature
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: mppt_temp_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: mppt_temp_icon                
                  text: $mppt
              - label:
                  align: bottom_left
                  id: mppt_temp_label
                  text: "T°"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: mppt_temp_value 
                  text: "25.5"
              - label:
                  align: top_right
                  id: mppt_temp_unit                
                  text: "°C" 
                  
        #16 MPPT Energy
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: mppt_energy_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: mppt_energy_icon                
                  text: $mppt
              - label:
                  align: bottom_left
                  id: mppt_energy_label
                  text: "Energy"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: mppt_energy_value 
                  text: "17.8"
              - label:
                  align: top_right
                  id: mppt_energy_unit                
                  text: "kWh" 
        #17 Chauffe-O
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: chauffe_o_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: chauffe_o_icon                
                  text: $chauffo
              - label:
                  align: bottom_left
                  id: chauffe_o_label
                  text: "Chauffe-O"
              - label:
                  align: top_right
                  id: chauffe_o_status                
                  text: "OFF" 
              - label:
                  text_font: $text_value_font
                  align: right_mid
                  id: chauffe_o_temp                
                  text: "55.2°C" 
                  
        #18 Water Pump
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: water_pump_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: water_pump_icon                
                  text: $water_pump
              - label:
                  align: bottom_left
                  id: water_pump_label
                  text: "Pump"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: water_pump_value 
                  text: "2.5"
              - label:
                  align: top_right
                  id: water_pump_unit                
                  text: "Bar" 
                    
        #19 Meteo
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: meteo_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: meteo_icon                
                  text: $orana
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: meteo_rain_label
                  text: "75"
              - label:
                  align: top_right
                  id: meteo_rain_unit
                  text: "mm"
              - label:
                  align: bottom_left
                  id: meteo_temp_label
                  text: "25.6°C"

        #20 Solar Prod Forecast
        - button: 
            height: $button_height_single
            width: $button_width
            checkable: false
            id: solar_fcst_button
            styles: control
            widgets:
              - label:
                  text_font: $icon_font
                  align: top_left
                  id: solar_fcst_icon                
                  text: $solarprod
              - label:
                  align: bottom_right
                  id: solar_fcst_tomorrow_label
                  text: "18.9"
              - label:
                  text_font: $text_value_font
                  align: CENTER
                  id: solar_fcst_today_label
                  text: "17.5"
              - label:
                  align: top_right
                  id: solar_fcst_unit
                  text: "kWh"


       
